# 开发环境配置
server:
  port: 9090
  servlet:
    # 应用的访问路径
    context-path: /
  tomcat:
    # tomcat的URI编码
    uri-encoding: UTF-8
    # 连接数满后的排队数，默认为100
    accept-count: 1000
    threads:
      # tomcat最大线程数，默认为200
      max: 800
      # Tomcat启动初始化的线程数，默认值10
      min-spare: 100

# 日志配置
logging:
  level:
    com.miaomiao: debug
    org.springframework: warn
    com.miaomiao.assistant.mapper: warn
    com.baomidou.mybatisplus: warn
    org.mybatis: warn

# Spring配置
spring:
  # Jackson配置
  jackson:
    time-zone: Asia/Shanghai
    date-format: yyyy-MM-dd HH:mm:ss
    serialization:
      write-dates-as-timestamps: false
  # 文件上传
  servlet:
    multipart:
      # 单个文件大小
      max-file-size: 10MB
      # 设置总上传的文件大小
      max-request-size: 20MB

# AI服务统一配置 - 只配置凭证，使用时通过模型名选择
ai:
  providers:
    # 智谱AI - 支持LLM/ASR/TTS
    zhipu:
      enabled: true
      apiKey: ${CHATGLM_API_KEY}
      baseUrl: https://open.bigmodel.cn/api/paas/v4/
      enableTokenCache: true
      tokenExpire: 3600000

# Native库配置
native:
  opus:
    # Native库文件夹路径
    # 文件夹下应包含 opus-jni-native.dll 或 libopus-jni-native.so
    # 留空则自动检测：优先从工作目录的native文件夹加载，其次从系统库路径加载
    library-dir: D:/myworkspace/meow/meow-server/native
